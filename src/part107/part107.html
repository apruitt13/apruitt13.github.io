<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Drone Education App</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .blocklyFlyoutScrollbar.blocklyScrollbarVertical {
            display: none;
        }

        /* For WebKit browsers (Chrome, Safari) */
        .blocklyFlyoutScrollbar.blocklyScrollbarVertical::-webkit-scrollbar {
            display: none;
        }
        /* Custom styles to ensure Blockly and canvas fill their containers */
        #blocklyDiv, #simulationCanvas {
            width: 100%;
            height: 100%;
            display: block;
        }
        #blocklyContainer, #simulationContainer {
            height: 60vh; /* Adjust height for better fit */
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            overflow: hidden;
            background-color: #f9fafb;
        }
        /* --- FIX: Create a new stacking context for Blockly --- */
        #blocklyContainer {
            position: relative;
            z-index: 0;
        }
        .scrollable-content {
            height: 100%;
            overflow-y: auto;
        }
    /* Force smaller drone media size */
        #droneMediaWrapper img,
        #droneMediaWrapper video {
            width: 150px !important;
            height: 100px !important;
            object-fit: contain;
            display: block;
        }
        #droneMediaWrapper video {
            margin-bottom: 0 !important;
        }
        table {
        width: 100%;
        border-collapse: collapse;
        font-family: Arial, sans-serif;
        }
        th, td {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }
        th {
            background-color: #f2f2f2;
            color: #333;
        }
        .category-header {
            background-color: #e9e9e9;
            font-weight: bold;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans p-6">

    <!-- Navigation Menu -->
    <nav class="bg-white shadow-lg rounded-full px-6 py-3 mb-6 flex justify-center space-x-4">
        <a href="../index.html" class="text-gray-700 font-semibold hover:text-blue-600 transition-colors duration-200">Home</a>
        <div class="relative">
            <button id="lessons-button" class="text-gray-700 font-semibold hover:text-blue-600 transition-colors duration-200 focus:outline-none">
                Drone Basics
            </button>
            <div id="lessons-dropdown" class="absolute hidden bg-white shadow-lg rounded-xl p-2 w-48 mt-2 z-10">
                <a href="/lessons/agriculture.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Agriculture</a>
                <a href="/lessons/construction.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Construction</a>
                <a href="/lessons/realEstate.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Real Estate</a>
                <a href="/lessons/filmMaking.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Filmmaking</a>
                <a href="/lessons/publicSafety.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Public Safety</a>
                <a href="/lessons/surveyingMapping.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Surveying and Mapping</a>
                <a href="/lessons/energyUtilities.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Energy and Utilities</a>
                <a href="/lessons/logisticsDelivery.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Logistics and Delivery</a>
                <a href="/lessons/journalism.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Journalism</a>
                <a href="/lessons/environmentalConservation.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Environmental Conservation</a>
            </div>
        </div>
        <div class="relative">
            <button id="part107-button" class="text-gray-700 font-semibold hover:text-blue-600 transition-colors duration-200 focus:outline-none">
                Part 107 Study Guide
            </button>
            <div id="part107-dropdown" class="absolute hidden bg-white shadow-lg rounded-xl p-2 w-48 mt-2 z-10">
                <a href="part107.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Introduction</a>
                <a href="regulations.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Regulations</a>
                <a href="airspace.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Airspace & Requirements</a>
                <a href="weather.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Weather</a>
                <a href="loading.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Loading & Performance</a>
                <a href="operations.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Operations</a>
            </div>
        </div>
    </nav>

    <!-- Main container for the 3-column layout -->
    <div class="flex flex-col lg:flex-row gap-6">

        <!-- Column 1: Drone Information -->
        <div class="flex-1 bg-white shadow-lg rounded-xl p-6 max-h-[80vh] flex flex-col">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">FAA Part 107 Test Introduction</h2>
            <div class="h-full overflow-y-auto">
                <p class="mb-4">
                    Welcome to the Part 107 Test Prep course!
                </p>
                <p class="mb-4">
                    The test draws questions from five major aeronautical knowledge areas. This study guide is structured around these same critical domains, 
                    with the approximate percentage of questions you can expect in each category:
                </p>
                <h3 class="text-xl font-semibold text-gray-800 mb-2">The Five Knowledge Areas</h3>
                <ol class="list-decimal list-inside space-y-1 mb-4" type = "1">
                    <li><strong class="font-medium">Regulations (15-25%):</strong>Focus: Core rules of Part 107, including maximum altitude (400 feet AGL), 
                        visual line-of-sight (VLOS), crew roles, night operations, accident reporting, and restrictions on flying over people.</li>

                    <li><strong class="font-medium">Airspace & Requirements (15-25%):</strong> Focus: Understanding the different classes of airspace 
                        (Class B, C, D, E, and G), how to read a Sectional Chart, special use airspace (like MOAs and Prohibited Areas), and the procedures 
                        for obtaining authorization to fly in controlled airspace. This is often the most challenging section for new students.</li>

                    <li><strong class="font-medium">Weather (11-16%):</strong>Focus: Interpreting aviation weather reports (METARs and TAFs), understanding the 
                        effects of weather on drone performance (e.g., density altitude, wind shear), and identifying cloud clearances and characteristics of 
                        stable/unstable air.</li>

                    <li><strong class="font-medium">Loading & Performance (7-11%):</strong> Focus: Principles of flight, calculating load factor during maneuvers, 
                        and the effect of weight and balance changes (e.g., center of gravity) on an sUAS.</li>

                    <li><strong class="font-medium">Operations (35-45%):</strong> Focus: Preflight procedures, emergency procedures, airport operations (traffic patterns, airport markings), 
                        radio communication, Crew Resource Management (CRM), Aeronautical Decision-Making (ADM), and the physiological effects of stress, drugs, or alcohol.</li>
                
                </ol>
                <p>
                    By mastering the material in this guide, you will not only be prepared to pass the UAG knowledge test but will also gain the foundational knowledge required to operate your 
                    small unmanned aircraft safely and professionally for years to come.
                </p>
            </div>
        </div>

        <div class="flex-1 bg-white shadow-lg rounded-xl p-6 max-h-[80vh] flex flex-col">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">FAA Part 107 Test: Drone Certification Basics</h2>
            <div class="h-full overflow-y-auto">
                <table>
                    <tbody>
                        <tr>
                            <td class="category-header" colspan="2">Purpose</td>
                        </tr>
                        <tr>
                            <td>What is it?</td>
                            <td>The Remote Pilot Certificate (Part 107) is required to fly a drone commercially (for business or compensation) in the USA.</td>
                        </tr>
                        <tr>
                            <td class="category-header" colspan="2">Eligibility Requirements</td>
                        </tr>
                        <tr>
                            <td>Age</td>
                            <td>Must be at least 16 years old.</td>
                        </tr>
                        <tr>
                            <td>Language</td>
                            <td>Must be able to read, speak, write, and understand English.</td>
                        </tr>
                        <tr>
                            <td>Medical</td>
                            <td>Must be in a physical and mental condition to safely fly a drone.</td>
                        </tr>
                        <tr>
                            <td class="category-header" colspan="2">Initial Test Format & Scoring</td>
                        </tr>
                        <tr>
                            <td>Type</td>
                            <td>Computer-based, multiple-choice exam at an FAA-approved testing center.</td>
                        </tr>
                        <tr>
                            <td>Questions</td>
                            <td>60 multiple-choice questions.</td>
                        </tr>
                        <tr>
                            <td>Time Limit</td>
                            <td>120 minutes (2 hours).</td>
                        </tr>
                        <tr>
                            <td>Passing Score</td>
                            <td>70% (must get 42 out of 60 questions correct).</td>
                        </tr>
                        <tr>
                            <td class="category-header" colspan="2">Recurrent Training (Renewal)</td>
                        </tr>
                        <tr>
                            <td>Frequency</td>
                            <td>Recurrent training must be completed every 24 calendar months.</td>
                        </tr>
                        <tr>
                            <td>Method</td>
                            <td>Completion of a free, online recurrent training course provided by the FAA.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- JavaScript logic -->
    <script src="../index.js"></script>

    <script>
    document.getElementById('lessons-button').addEventListener('click', function() {
        document.getElementById('lessons-dropdown').classList.toggle('hidden');
    });

    // Optional: Close the dropdown if the user clicks anywhere else
    document.addEventListener('click', function(event) {
        const dropdown = document.getElementById('lessons-dropdown');
        const button = document.getElementById('lessons-button');

        if (!dropdown.contains(event.target) && !button.contains(event.target)) {
            dropdown.classList.add('hidden');
        }
    });
    document.getElementById('part107-button').addEventListener('click', function() {
        document.getElementById('part107-dropdown').classList.toggle('hidden');
    });

    // Optional: Close the dropdown if the user clicks anywhere else
    document.addEventListener('click', function(event) {
        const dropdown = document.getElementById('part107-dropdown');
        const button = document.getElementById('part107-button');

        if (!dropdown.contains(event.target) && !button.contains(event.target)) {
            dropdown.classList.add('hidden');
        }
    });
    </script>
</body>