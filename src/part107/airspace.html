<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Drone Education App</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .blocklyFlyoutScrollbar.blocklyScrollbarVertical {
            display: none;
        }

        /* For WebKit browsers (Chrome, Safari) */
        .blocklyFlyoutScrollbar.blocklyScrollbarVertical::-webkit-scrollbar {
            display: none;
        }
        /* Custom styles to ensure Blockly and canvas fill their containers */
        #blocklyDiv, #simulationCanvas {
            width: 100%;
            height: 100%;
            display: block;
        }
        #blocklyContainer, #simulationContainer {
            height: 60vh; /* Adjust height for better fit */
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            overflow: hidden;
            background-color: #f9fafb;
        }
        /* --- FIX: Create a new stacking context for Blockly --- */
        #blocklyContainer {
            position: relative;
            z-index: 0;
        }
        .scrollable-content {
            height: 100%;
            overflow-y: auto;
        }
    /* Force smaller drone media size */
        #droneMediaWrapper img,
        #droneMediaWrapper video {
            width: 150px !important;
            height: 100px !important;
            object-fit: contain;
            display: block;
        }
        #droneMediaWrapper video {
            margin-bottom: 0 !important;
        }
        table {
        width: 100%;
        border-collapse: collapse;
        font-family: Arial, sans-serif;
        }
        th, td {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }
        th {
            background-color: #f2f2f2;
            color: #333;
        }
        .category-header {
            background-color: #e9e9e9;
            font-weight: bold;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans p-6">

<!-- Navigation Menu -->
    <nav class="bg-white shadow-lg rounded-full px-6 py-3 mb-6 flex justify-center space-x-4">
        <a href="../index.html" class="text-gray-700 font-semibold hover:text-blue-600 transition-colors duration-200">Home</a>
        <a href="../game/python_game.html" class="text-gray-700 font-semibold hover:text-blue-600 transition-colors duration-200">Game</a>
        <div class="relative">
            <button id="lessons-button" class="text-gray-700 font-semibold hover:text-blue-600 transition-colors duration-200 focus:outline-none">
                Drone Basics
            </button>
            <div id="lessons-dropdown" class="absolute hidden bg-white shadow-lg rounded-xl p-2 w-48 mt-2 z-10">
                <a href="../lessons/agriculture.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Agriculture</a>
                <a href="../lessons/construction.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Construction</a>
                <a href="../lessons/realEstate.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Real Estate</a>
                <a href="../lessons/filmMaking.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Filmmaking</a>
                <a href="../lessons/publicSafety.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Public Safety</a>
                <a href="../lessons/surveyingMapping.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Surveying and Mapping</a>
                <a href="../lessons/energyUtilities.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Energy and Utilities</a>
                <a href="../lessons/logisticsDelivery.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Logistics and Delivery</a>
                <a href="../lessons/journalism.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Journalism</a>
                <a href="../lessons/environmentalConservation.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Environmental Conservation</a>
            </div>
        </div>
        <div class="relative">
            <button id="part107-button" class="text-gray-700 font-semibold hover:text-blue-600 transition-colors duration-200 focus:outline-none">
                Part 107 Study Guide
            </button>
            <div id="part107-dropdown" class="absolute hidden bg-white shadow-lg rounded-xl p-2 w-48 mt-2 z-10">
                <a href="part107.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Introduction</a>
                <a href="regulations.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Regulations</a>
                <a href="airspace.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Airspace & Requirements</a>
                <a href="weather.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Weather</a>
                <a href="loading.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Loading & Performance</a>
                <a href="operations.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Operations</a>
            </div>
        </div>
    </nav>

    <!-- Main container for the 3-column layout -->
    <div class="flex flex-col lg:flex-row gap-6">

        <!-- Column 1: Drone Information -->
        <div class="flex-1 bg-white shadow-lg rounded-xl p-6 max-h-[80vh] flex flex-col">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">FAA Part 107 Test - Airspace and Requirements</h2>
            <div class="h-full overflow-y-auto">
                <section class="prose max-w-none">
                    <h3 class="text-xl font-semibold mb-2">Section 2: Airspace &amp; Requirements (15â€“25%)</h3>
                    <p class="mb-4">Understanding where you can and cannot fly is critical to avoiding collisions with manned aircraft.</p>

                    <h4 class="text-lg font-semibold mt-4 mb-2">Controlled Airspace (Classes B, C, D, and E)</h4>
                    <p class="mb-2">Remote pilots must obtain prior Air Traffic Control (ATC) authorization before operating in controlled airspace.</p>
                    <ul class="list-disc pl-6 space-y-2">
                        <li><strong>Class B (Solid Blue):</strong> "Big" airports. The busiest hubs with tiered altitudes.</li>
                        <li><strong>Class C (Solid Magenta):</strong> "Congested" airports. Typically has a 5 NM surface area and a 10 NM shelf.</li>
                        <li><strong>Class D (Dashed Blue):</strong> "Dialog" airports. Smaller towered airports, extending from surface to 2,500 feet MSL.</li>
                        <li><strong>Class E (Surface):</strong> Designated by a dashed magenta line. Authorization is required to fly drones in the surface area designated for an airport.</li>
                    </ul>

                    <h4 class="text-lg font-semibold mt-4 mb-2">Uncontrolled Airspace (Class G)</h4>
                    <p class="mb-4">Class G is the only uncontrolled airspace. No ATC authorization is required for operations under 400 feet AGL.</p>

                    <h4 class="text-lg font-semibold mt-4 mb-2">Sectional Chart Symbology</h4>
                    <ul class="list-disc pl-6 space-y-2">
                        <li><strong>MSL vs. AGL:</strong> On sectional charts, all numbers indicate altitude in Mean Sea Level (MSL) unless they are in parentheses, which indicates Above Ground Level (AGL).</li>
                        <li><strong>MTRs (Military Training Routes):</strong> Identified as "VR" or "IR." Routes with <strong>4-digit numbers</strong> (e.g., VR1234) are at or below 1,500 feet AGL. Routes with <strong>3-digit numbers</strong> (e.g., IR123) have segments above 1,500 feet AGL.</li>
                        <li><strong>MEF (Maximum Elevation Figure):</strong> Bold numbers in a chart quadrant representing the highest terrain or obstacle in that quadrangle.</li>
                    </ul>

                    <h4 class="text-lg font-semibold mt-4 mb-2">Special Use Airspace (SUA) - "MCPRAWN"</h4>
                    <p class="mb-2">Includes Prohibited (P), Restricted (R), Warning (W), Military Operations Areas (MOA), Alert (A), and Controlled Firing Areas (CFA). Restricted areas often contain invisible hazards like artillery firing or guided missiles.</p>

                    <p class="mt-4"><strong>"MCPRAWN"</strong> is <em>a mnemonic used by pilots to remember the seven types of Special Use Airspace (SUA) designated to separate military or hazardous activities from other air traffic</em>. The acronym stands for: <strong>M</strong>ilitary Operations Area (MOA), <strong>C</strong>ontrolled Firing Area (CFA), <strong>P</strong>rohibited Area, <strong>R</strong>estricted Area, <strong>A</strong>lert Area, <strong>W</strong>arning Area, and <strong>N</strong>ational Security Area (NSA).</p>

                    <p class="text-sm text-gray-600 font-semibold">CFI Notebook +3</p>

                    <h5 class="text-md font-semibold mt-3 mb-2">Key Components of MCPRAWN:</h5>
                    <ul class="list-disc pl-6 space-y-2">
                        <li><strong>Military Operations Area (MOA):</strong> Separates IFR traffic from non-hazardous military training activities.</li>
                        <li><strong>Controlled Firing Area (CFA):</strong> Activities are suspended immediately when a spotter aircraft or ground observer detects an aircraft, ensuring no hazard to non-participating aircraft.</li>
                        <li><strong>Prohibited Area:</strong> Flight is prohibited for security or national welfare reasons (e.g., White House).</li>
                        <li><strong>Restricted Area:</strong> Contains unusual, often invisible, hazards to aircraft; entry requires express permission from the controlling agency.</li>
                        <li><strong>Alert Area:</strong> Depicted to inform pilots of areas with a high volume of pilot training or unusual aerial activity.</li>
                        <li><strong>Warning Area:</strong> Airspace, similar to restricted areas, that extends 3 NM outward from the U.S. coast, containing hazards to non-participating aircraft.</li>
                        <li><strong>National Security Area (NSA):</strong> Established at locations where there is a requirement for increased security and safety of ground facilities.</li>
                    </ul>
                </section>
            </div>
        </div>
    </div>

    <!-- JavaScript logic -->
    <script src="../index.js"></script>
    <script src="airspace.js"></script>

    <script>
    document.getElementById('lessons-button').addEventListener('click', function() {
        document.getElementById('lessons-dropdown').classList.toggle('hidden');
    });

    // Optional: Close the dropdown if the user clicks anywhere else
    document.addEventListener('click', function(event) {
        const dropdown = document.getElementById('lessons-dropdown');
        const button = document.getElementById('lessons-button');

        if (!dropdown.contains(event.target) && !button.contains(event.target)) {
            dropdown.classList.add('hidden');
        }
    });
    document.getElementById('part107-button').addEventListener('click', function() {
        document.getElementById('part107-dropdown').classList.toggle('hidden');
    });

    // Optional: Close the dropdown if the user clicks anywhere else
    document.addEventListener('click', function(event) {
        const dropdown = document.getElementById('part107-dropdown');
        const button = document.getElementById('part107-button');

        if (!dropdown.contains(event.target) && !button.contains(event.target)) {
            dropdown.classList.add('hidden');
        }
    });
    </script>
</body>