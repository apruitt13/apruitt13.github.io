<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Drone Education App</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .blocklyFlyoutScrollbar.blocklyScrollbarVertical {
            display: none;
        }

        /* For WebKit browsers (Chrome, Safari) */
        .blocklyFlyoutScrollbar.blocklyScrollbarVertical::-webkit-scrollbar {
            display: none;
        }
        /* Custom styles to ensure Blockly and canvas fill their containers */
        #blocklyDiv, #simulationCanvas {
            width: 100%;
            height: 100%;
            display: block;
        }
        #blocklyContainer, #simulationContainer {
            height: 60vh; /* Adjust height for better fit */
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            overflow: hidden;
            background-color: #f9fafb;
        }
        /* --- FIX: Create a new stacking context for Blockly --- */
        #blocklyContainer {
            position: relative;
            z-index: 0;
        }
        .scrollable-content {
            height: 100%;
            overflow-y: auto;
        }
    /* Force smaller drone media size */
        #droneMediaWrapper img,
        #droneMediaWrapper video {
            width: 150px !important;
            height: 100px !important;
            object-fit: contain;
            display: block;
        }
        #droneMediaWrapper video {
            margin-bottom: 0 !important;
        }
        table {
        width: 100%;
        border-collapse: collapse;
        font-family: Arial, sans-serif;
        }
        th, td {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }
        th {
            background-color: #f2f2f2;
            color: #333;
        }
        .category-header {
            background-color: #e9e9e9;
            font-weight: bold;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans p-6">

<!-- Navigation Menu -->
    <nav class="bg-white shadow-lg rounded-full px-6 py-3 mb-6 flex justify-center space-x-4">
        <a href="../index.html" class="text-gray-700 font-semibold hover:text-blue-600 transition-colors duration-200">Home</a>
        <a href="../game/python_game.html" class="text-gray-700 font-semibold hover:text-blue-600 transition-colors duration-200">Game</a>
        <div class="relative">
            <button id="lessons-button" class="text-gray-700 font-semibold hover:text-blue-600 transition-colors duration-200 focus:outline-none">
                Drone Basics
            </button>
            <div id="lessons-dropdown" class="absolute hidden bg-white shadow-lg rounded-xl p-2 w-48 mt-2 z-10">
                <a href="../lessons/agriculture.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Agriculture</a>
                <a href="../lessons/construction.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Construction</a>
                <a href="../lessons/realEstate.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Real Estate</a>
                <a href="../lessons/filmMaking.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Filmmaking</a>
                <a href="../lessons/publicSafety.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Public Safety</a>
                <a href="../lessons/surveyingMapping.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Surveying and Mapping</a>
                <a href="../lessons/energyUtilities.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Energy and Utilities</a>
                <a href="../lessons/logisticsDelivery.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Logistics and Delivery</a>
                <a href="../lessons/journalism.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Journalism</a>
                <a href="../lessons/environmentalConservation.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Environmental Conservation</a>
            </div>
        </div>
        <div class="relative">
            <button id="part107-button" class="text-gray-700 font-semibold hover:text-blue-600 transition-colors duration-200 focus:outline-none">
                Part 107 Study Guide
            </button>
            <div id="part107-dropdown" class="absolute hidden bg-white shadow-lg rounded-xl p-2 w-48 mt-2 z-10">
                <a href="part107.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Introduction</a>
                <a href="regulations.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Regulations</a>
                <a href="airspace.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Airspace & Requirements</a>
                <a href="weather.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Weather</a>
                <a href="loading.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Loading & Performance</a>
                <a href="operations.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg">Operations</a>
            </div>
        </div>
    </nav>

    <!-- Main container for the 3-column layout -->
    <div class="flex flex-col lg:flex-row gap-6">

        <!-- Column 1: Drone Information -->
        <div class="flex-1 bg-white shadow-lg rounded-xl p-6 max-h-[80vh] flex flex-col">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">FAA Part 107 Test - Weather</h2>
            <div class="h-full overflow-y-auto">
                <section class="prose max-w-none">
                    <h3 class="text-xl font-semibold mb-2">Section 3: Weather (11â€“16%)</h3>
                    <p class="mb-4">Weather dictates drone stability and the distance from which you can safely see hazards.</p>

                    <h4 class="text-lg font-semibold mt-4 mb-2">Atmospheric Stability</h4>
                    <p class="mb-2">Stability is the atmosphere's resistance to vertical motion.</p>
                    <ul class="list-disc pl-6 space-y-2">
                        <li><strong>Stable Air:</strong> Resists upward movement. Characterized by stratiform (layered) clouds, steady precipitation, smooth air, and poor visibility (haze/fog).</li>
                        <li><strong>Unstable Air:</strong> Encourages vertical currents. Characterized by cumuliform (puffy) clouds, showery precipitation, turbulent air, and good visibility.</li>
                    </ul>

                    <h4 class="text-lg font-semibold mt-4 mb-2">Thunderstorm Lifecycle</h4>
                    <ol class="list-decimal pl-6 space-y-2">
                        <li><strong>Cumulus Stage:</strong> Characterized by strong updrafts building the cloud.</li>
                        <li><strong>Mature Stage:</strong> Most violent; begins when rain reaches the surface. Features both updrafts and downdrafts.</li>
                        <li><strong>Dissipating Stage:</strong> Characterized primarily by downdrafts.</li>
                    </ol>

                    <h4 class="text-lg font-semibold mt-4 mb-2">Fog Types</h4>
                    <p class="mb-2">Fog forms when the temperature and dewpoint are within 5&deg;C (~9&deg;F).</p>
                    <ul class="list-disc pl-6 space-y-2">
                        <li><strong>Radiation Fog:</strong> Forms on clear, calm nights as the ground cools.</li>
                        <li><strong>Advection Fog:</strong> Forms when moist air moves horizontally over a colder surface; requires wind.</li>
                        <li><strong>Steam Fog:</strong> Cold air moves over warm water.</li>
                    </ul>

                    <h4 class="text-lg font-semibold mt-4 mb-2">Minimum Requirements</h4>
                    <ul class="list-disc pl-6 space-y-2">
                        <li><strong>Visibility:</strong> Minimum 3 statute miles (SM) from the control station.</li>
                        <li><strong>Cloud Clearance:</strong> Minimum 500 feet below clouds and 2,000 feet horizontally from clouds.</li>
                    </ul>
                </section>
            </div>
        </div>
    </div>

    <!-- JavaScript logic -->
    <script src="../index.js"></script>
    <script src="weather.js"></script>

    <script>
    document.getElementById('lessons-button').addEventListener('click', function() {
        document.getElementById('lessons-dropdown').classList.toggle('hidden');
    });

    // Optional: Close the dropdown if the user clicks anywhere else
    document.addEventListener('click', function(event) {
        const dropdown = document.getElementById('lessons-dropdown');
        const button = document.getElementById('lessons-button');

        if (!dropdown.contains(event.target) && !button.contains(event.target)) {
            dropdown.classList.add('hidden');
        }
    });
    document.getElementById('part107-button').addEventListener('click', function() {
        document.getElementById('part107-dropdown').classList.toggle('hidden');
    });

    // Optional: Close the dropdown if the user clicks anywhere else
    document.addEventListener('click', function(event) {
        const dropdown = document.getElementById('part107-dropdown');
        const button = document.getElementById('part107-button');

        if (!dropdown.contains(event.target) && !button.contains(event.target)) {
            dropdown.classList.add('hidden');
        }
    });
    </script>
</body>